type: sunspec
params:
- name: usage
  choice: [ "grid", "pv", "battery" ]
  hint: how is the meter installed
- name: uri
  default: 192.0.2.2
- name: id
  default: 1
# sample: |
#   type: sunspec
#   usage: {{ .usage }} # {{ .Params.Usage.Hint }}
#   uri: {{ .uri }}
#   id: {{ .id }}
render: |
  type: modbus
  model: sunspec
  uri: {{ .uri }}
  id: {{ .id }}
  {{- if eq .usage "grid" }}
  power: 203:W # sunspec model 203 meter
  {{ end -}}
  {{- if eq .usage "battery" }}
  soc: ChargeState
  {{ end -}}
